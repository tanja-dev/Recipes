<div class="column is-6 is-offset-3">
  <div class="card">
    <header class="card-header">
      <p class="card-header-title">
        <%= recipe.title %> - <%= link_to recipe.user.try(:user_name), user_path(recipe.user.id) %>
      </p>
    </header>
    <div class="card-content">
      <div class="content">
        <p><%= recipe.description %></p>
      </div>
    </div>

    <footer class="card-footer">
      <% if local_assigns[:show] %>
        <%= link_to "Back", root_path, class: "card-footer-item" %>
      <% else %>
        <%= link_to "Show", recipe_path(recipe), class: "card-footer-item" %>
      <% end %>

      <% if logged_in? && equal_with_current_user?(recipe.user) %>
        <%= link_to "Edit", edit_recipe_path(recipe), class: "card-footer-item" %>

        <% if local_assigns[:show] %>
          <%= link_to "New Instruction", new_recipe_instruction_path(recipe), class: "card-footer-item" %>
          <%= link_to "New Ingredient", new_recipe_ingredient_path(recipe), class: "card-footer-item" %>
        <% end %>

        <%= link_to "Delete", recipe_path(recipe), method: :delete,
            data: { confirm: "Are you sure you want to delete this recipe?" },
            class: "card-footer-item" %>
      <% end %>
    </footer>
  </div>
</div>
